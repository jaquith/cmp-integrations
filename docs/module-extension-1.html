<!DOCTYPE html>
<html lang="en">

<head>
  
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Usercentrics Browser SDK (CMP Version 2) / Tealium iQ Integration extension-3</title>

  <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="./build/entry.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <link href="https://fonts.googleapis.com/css?family=Roboto:100,400,700|Inconsolata,700" rel="stylesheet">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
  <link type="text/css" rel="stylesheet" href="https://jmblog.github.io/color-themes-for-google-code-prettify/themes/tomorrow-night.min.css">
  <link type="text/css" rel="stylesheet" href="styles/app.min.css">
  <link type="text/css" rel="stylesheet" href="styles/iframe.css">
  <link type="text/css" rel="stylesheet" href="">
  <script async defer src="https://buttons.github.io/buttons.js"></script>

  
</head>



<body class="layout small-header">
    <div id="stickyNavbarOverlay"></div>
    

<div class="top-nav">
    <div class="inner">
        <a id="hamburger" role="button" class="navbar-burger" aria-label="menu" aria-expanded="false">
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
        </a>
        <div class="logo">
            
             
                <a href="index.html">
                    <h1 class="navbar-item">Usercentrics Browser SDK (CMP Version 2) / Tealium iQ Integration</h1>
                </a>
            
        </div>
        <div class="menu">
            
            <div class="navigation">
                <a
                    href="index.html"
                    class="link"
                >
                    API Documentation
                </a>
                
                
                
            </div>
        </div>
    </div>
</div>
    <div id="main">
        <div
            class="sidebar "
            id="sidebarNav"
        >
            
            <nav>
                
                    <h2><a href="index.html">Documentation</a></h2><div class="category"><h3>Modules</h3><ul><li><a href="module-example-map.html">example-map</a></li><li><a href="module-extension-3.html">extension-3</a></li><li><a href="module-extension-4.html">extension-4</a></li></ul><h3>Namespaces</h3><ul><li><a href="tealiumCmpIntegration.html">tealiumCmpIntegration</a></li></ul><h3>Global</h3><ul><li><a href="global.html#ConsentDecision">ConsentDecision</a></li><li><a href="global.html#QueuedEvent">QueuedEvent</a></li><li><a href="global.html#GroupToTagMap">GroupToTagMap</a></li><li><a href="global.html#TagToGroupMap">TagToGroupMap</a></li></ul></div>
                
            </nav>
        </div>
        <div class="core" id="main-content-wrapper">
            <div class="content">
                <header class="page-title">
                    <p>Module</p>
                    <h1>extension-3</h1>
                </header>
                




<section>

<header>
    
        
            
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description"><p>The 'Pre Loader' extension component of the CMP integration, responsible for stopping Tealium iQ from loading/running as appropriate, and making certain
window-scoped functions available to the other components.</p></div>
        

        
            














<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="extension-3.js.html" class="button">View Source</a>
            <span>
                <a href="extension-3.js.html">extension-3.js</a>, <a href="extension-3.js.html#line7">line 7</a>
            </span>
        </p>
    
</dl>






















        
    
    </div>
    
    

    

    

    

    

    

    

    
        <div class='vertical-section'>
            <h1>Methods</h1>
            <div class="members">
            
                <div class="member">


    
    <h4 class="name" id="~cmpCheckForExplicitConsentDecision">
        <a class="href-link" href="#~cmpCheckForExplicitConsentDecision">#</a>
        
            
                <span class='tag'>inner</span>
            
        
        <span class="code-name">
            
                cmpCheckForExplicitConsentDecision<span class="signature">(cmpRawOutput)</span><span class="type-signature"> &rarr; {boolean}</span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>Indicates if the user has made an EXPLICIT decision</p>
    </div>
    









    <h5>Parameters:</h5>
    
<div class="table-container">
    <table class="params table">
        <thead>
        <tr>
            
            <th>Name</th>
            

            <th>Type</th>

            

            

            <th class="last">Description</th>
        </tr>
        </thead>

        <tbody>
        

            
<tr class="deep-level-0">
  
      <td class="name"><code>cmpRawOutput</code></td>
  

  <td class="type">
  
  </td>

  

  

  <td class="description last"><p>the CMP output returned from cmpFetchCurrentConsentDecision</p></td>
</tr>


        
        </tbody>
    </table>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="extension-3.js.html" class="button">View Source</a>
            <span>
                <a href="extension-3.js.html">extension-3.js</a>, <a href="extension-3.js.html#line166">line 166</a>
            </span>
        </p>
    
</dl>


















    <div class='columns method-parameter'>
        <div class="column is-2"><label>Returns:</label></div>
        <div class="column is-10">
            
                    

<div class="columns">
    
    <div class='param-desc column is-7'><p>'true' if the consent decision is EXPLICIT otherwise 'false'</p></div>
    
    
    <div class='column is-5 has-text-left'>
        <label>Type: </label>
        
<span class="param-type">boolean</span>


    </div>
    
</div>

                
        </div>
    </div>




</div>
            
                <div class="member">


    
    <h4 class="name" id="~cmpCheckForTiqConsent">
        <a class="href-link" href="#~cmpCheckForTiqConsent">#</a>
        
            
                <span class='tag'>inner</span>
            
        
        <span class="code-name">
            
                cmpCheckForTiqConsent<span class="signature">(cmpRawOutput)</span><span class="type-signature"> &rarr; {boolean}</span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>Indicates if Tealium iQ has permission to run (and fire tags).</p>
    </div>
    









    <h5>Parameters:</h5>
    
<div class="table-container">
    <table class="params table">
        <thead>
        <tr>
            
            <th>Name</th>
            

            <th>Type</th>

            

            

            <th class="last">Description</th>
        </tr>
        </thead>

        <tbody>
        

            
<tr class="deep-level-0">
  
      <td class="name"><code>cmpRawOutput</code></td>
  

  <td class="type">
  
  </td>

  

  

  <td class="description last"><p>the CMP output returned from cmpFetchCurrentConsentDecision</p></td>
</tr>


        
        </tbody>
    </table>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="extension-3.js.html" class="button">View Source</a>
            <span>
                <a href="extension-3.js.html">extension-3.js</a>, <a href="extension-3.js.html#line174">line 174</a>
            </span>
        </p>
    
</dl>


















    <div class='columns method-parameter'>
        <div class="column is-2"><label>Returns:</label></div>
        <div class="column is-10">
            
                    

<div class="columns">
    
    <div class='param-desc column is-7'><p>'true' if TiQ is allowed to run, otherwise 'false'</p></div>
    
    
    <div class='column is-5 has-text-left'>
        <label>Type: </label>
        
<span class="param-type">boolean</span>


    </div>
    
</div>

                
        </div>
    </div>




</div>
            
                <div class="member">


    
    <h4 class="name" id="~cmpCheckForTiqConsent">
        <a class="href-link" href="#~cmpCheckForTiqConsent">#</a>
        
            
                <span class='tag'>inner</span>
            
        
        <span class="code-name">
            
                cmpCheckForTiqConsent<span class="signature">(cmpRawOutput)</span><span class="type-signature"> &rarr; {boolean}</span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>Indicates if Tealium iQ has permission to run (and fire tags).</p>
    </div>
    









    <h5>Parameters:</h5>
    
<div class="table-container">
    <table class="params table">
        <thead>
        <tr>
            
            <th>Name</th>
            

            <th>Type</th>

            

            

            <th class="last">Description</th>
        </tr>
        </thead>

        <tbody>
        

            
<tr class="deep-level-0">
  
      <td class="name"><code>cmpRawOutput</code></td>
  

  <td class="type">
  
  </td>

  

  

  <td class="description last"><p>the CMP output returned from cmpFetchCurrentConsentDecision</p></td>
</tr>


        
        </tbody>
    </table>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="extension-3.js.html" class="button">View Source</a>
            <span>
                <a href="extension-3.js.html">extension-3.js</a>, <a href="extension-3.js.html#line182">line 182</a>
            </span>
        </p>
    
</dl>


















    <div class='columns method-parameter'>
        <div class="column is-2"><label>Returns:</label></div>
        <div class="column is-10">
            
                    

<div class="columns">
    
    <div class='param-desc column is-7'><p>'true' if TiQ is allowed to run, otherwise 'false'</p></div>
    
    
    <div class='column is-5 has-text-left'>
        <label>Type: </label>
        
<span class="param-type">boolean</span>


    </div>
    
</div>

                
        </div>
    </div>




</div>
            
                <div class="member">


    
    <h4 class="name" id="~cmpCheckForWellFormedDecision">
        <a class="href-link" href="#~cmpCheckForWellFormedDecision">#</a>
        
            
                <span class='tag'>inner</span>
            
        
        <span class="code-name">
            
                cmpCheckForWellFormedDecision<span class="signature">(cmpRawOutput)</span><span class="type-signature"> &rarr; {boolean}</span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>Indicates if Usercentrics has loaded and returned a well-formed indication of user consent.</p>
    </div>
    









    <h5>Parameters:</h5>
    
<div class="table-container">
    <table class="params table">
        <thead>
        <tr>
            
            <th>Name</th>
            

            <th>Type</th>

            

            

            <th class="last">Description</th>
        </tr>
        </thead>

        <tbody>
        

            
<tr class="deep-level-0">
  
      <td class="name"><code>cmpRawOutput</code></td>
  

  <td class="type">
  
  </td>

  

  

  <td class="description last"><p>the CMP output returned from cmpFetchCurrentConsentDecision</p></td>
</tr>


        
        </tbody>
    </table>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="extension-3.js.html" class="button">View Source</a>
            <span>
                <a href="extension-3.js.html">extension-3.js</a>, <a href="extension-3.js.html#line151">line 151</a>
            </span>
        </p>
    
</dl>


















    <div class='columns method-parameter'>
        <div class="column is-2"><label>Returns:</label></div>
        <div class="column is-10">
            
                    

<div class="columns">
    
    <div class='param-desc column is-7'><p>'true' if the consent decision is well-formed, otherwise 'false'</p></div>
    
    
    <div class='column is-5 has-text-left'>
        <label>Type: </label>
        
<span class="param-type">boolean</span>


    </div>
    
</div>

                
        </div>
    </div>




</div>
            
                <div class="member">


    
    <h4 class="name" id="~cmpFetchCurrentConsentDecision">
        <a class="href-link" href="#~cmpFetchCurrentConsentDecision">#</a>
        
            
                <span class='tag'>inner</span>
            
        
        <span class="code-name">
            
                cmpFetchCurrentConsentDecision<span class="signature">()</span><span class="type-signature"> &rarr; {*}</span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>Expects a function that gets the current consent decision from the CMP.</p>
    </div>
    













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="extension-3.js.html" class="button">View Source</a>
            <span>
                <a href="extension-3.js.html">extension-3.js</a>, <a href="extension-3.js.html#line144">line 144</a>
            </span>
        </p>
    
</dl>


















    <div class='columns method-parameter'>
        <div class="column is-2"><label>Returns:</label></div>
        <div class="column is-10">
            
                    

<div class="columns">
    
    <div class='param-desc column is-7'><p>The CMP response to use within other CMP-specific functions</p></div>
    
    
    <div class='column is-5 has-text-left'>
        <label>Type: </label>
        
<span class="param-type">*</span>


    </div>
    
</div>

                
        </div>
    </div>




</div>
            
                <div class="member">


    
    <h4 class="name" id="~generateTagBasedMap">
        <a class="href-link" href="#~generateTagBasedMap">#</a>
        
            
                <span class='tag'>inner</span>
            
        
        <span class="code-name">
            
                generateTagBasedMap<span class="signature">()</span><span class="type-signature"></span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>Refresh <a href="tealiumCmpIntegration.html#..tagBasedMap">tealiumCmpIntegration.tagBasedMap</a> and return that new map, helps smooth out any timing issues between Usercentrics and Tealium iQ load.</p>
    </div>
    













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="extension-3.js.html" class="button">View Source</a>
            <span>
                <a href="extension-3.js.html">extension-3.js</a>, <a href="extension-3.js.html#line516">line 516</a>
            </span>
        </p>
    
</dl>


















    <div class='columns method-parameter'>
        <div class="column is-2"><label>Returns:</label></div>
        <div class="column is-10">
            
                    

<div class="columns">
    
    <div class='param-desc column is-7'><p>a <a href="global.html#TagToGroupMap">TagToGroupMap</a></p></div>
    
    
</div>

                
        </div>
    </div>




</div>
            
                <div class="member">


    
    <h4 class="name" id="~getCurrentConsentDecision">
        <a class="href-link" href="#~getCurrentConsentDecision">#</a>
        
            
                <span class='tag'>inner</span>
            
        
        <span class="code-name">
            
                getCurrentConsentDecision<span class="signature">()</span><span class="type-signature"></span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>Get the current consent decision from the CMP for the active Setting</p>
    </div>
    













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="extension-3.js.html" class="button">View Source</a>
            <span>
                <a href="extension-3.js.html">extension-3.js</a>, <a href="extension-3.js.html#line816">line 816</a>
            </span>
        </p>
    
</dl>


















    <div class='columns method-parameter'>
        <div class="column is-2"><label>Returns:</label></div>
        <div class="column is-10">
            
                    

<div class="columns">
    
    <div class='param-desc column is-7'><p>a <a href="global.html#ConsentDecision">ConsentDecision</a></p></div>
    
    
</div>

                
        </div>
    </div>




</div>
            
                <div class="member">


    
    <h4 class="name" id="~getTagBasedMap">
        <a class="href-link" href="#~getTagBasedMap">#</a>
        
            
                <span class='tag'>inner</span>
            
        
        <span class="code-name">
            
                getTagBasedMap<span class="signature">(map)</span><span class="type-signature"> &rarr; {object}</span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>Generate a <a href="global.html#TagToGroupMap">TagToGroupMap</a> based on a <a href="global.html#GroupToTagMap">GroupToTagMap</a></p>
    </div>
    









    <h5>Parameters:</h5>
    
<div class="table-container">
    <table class="params table">
        <thead>
        <tr>
            
            <th>Name</th>
            

            <th>Type</th>

            

            

            <th class="last">Description</th>
        </tr>
        </thead>

        <tbody>
        

            
<tr class="deep-level-0">
  
      <td class="name"><code>map</code></td>
  

  <td class="type">
  
      
<span class="param-type">object</span>


  
  </td>

  

  

  <td class="description last"><p>a <a href="global.html#GroupToTagMap">GroupToTagMap</a> object</p></td>
</tr>


        
        </tbody>
    </table>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="extension-3.js.html" class="button">View Source</a>
            <span>
                <a href="extension-3.js.html">extension-3.js</a>, <a href="extension-3.js.html#line784">line 784</a>
            </span>
        </p>
    
</dl>


















    <div class='columns method-parameter'>
        <div class="column is-2"><label>Returns:</label></div>
        <div class="column is-10">
            
                    

<div class="columns">
    
    <div class='param-desc column is-7'><p>a <a href="global.html#TagToGroupMap">TagToGroupMap</a></p></div>
    
    
    <div class='column is-5 has-text-left'>
        <label>Type: </label>
        
<span class="param-type">object</span>


    </div>
    
</div>

                
        </div>
    </div>




</div>
            
                <div class="member">


    
    <h4 class="name" id="~getTealiumEnvironment">
        <a class="href-link" href="#~getTealiumEnvironment">#</a>
        
            
                <span class='tag'>inner</span>
            
        
        <span class="code-name">
            
                getTealiumEnvironment<span class="signature">()</span><span class="type-signature"> &rarr; {boolean}</span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>Get the the current Tealium iQ environment.</p>
<p>Since this runs in Pre Loader, it needs to use regex to recognize the utag.js file in the DOM and read the environment from the file name (there are no utag functions or objects at this point in the load).</p>
<p>NOTE: This doesn't work correctly when using the the Environment Switcher (because the original script is added to the DOM instead of the new one, and the 307 redirect that's used to pull the new file(s) only changes the response, not the script element itself).</p>
<p>If you're using the Environment Switcher on Prod and would like to see console output, set the <a href="https://docs.tealium.com/platforms/javascript/debugging/">debug cookie</a>.</p>
    </div>
    













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="extension-3.js.html" class="button">View Source</a>
            <span>
                <a href="extension-3.js.html">extension-3.js</a>, <a href="extension-3.js.html#line899">line 899</a>
            </span>
        </p>
    
</dl>


















    <div class='columns method-parameter'>
        <div class="column is-2"><label>Returns:</label></div>
        <div class="column is-10">
            
                    

<div class="columns">
    
    <div class='param-desc column is-7'><p>'true' if Tealium iQ was successfully triggered, 'false' if it wasn't triggered because it's already initiated</p></div>
    
    
    <div class='column is-5 has-text-left'>
        <label>Type: </label>
        
<span class="param-type">boolean</span>


    </div>
    
</div>

                
        </div>
    </div>




</div>
            
                <div class="member">


    
    <h4 class="name" id="~logger">
        <a class="href-link" href="#~logger">#</a>
        
            
                <span class='tag'>inner</span>
            
        
        <span class="code-name">
            
                logger<span class="signature">(message, showOutsideDebugMode)</span><span class="type-signature"></span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>A conditional logging function - we can't use utag.DB directly because some of our logic needs to be preloader, but we can mimic the same logic so that our logging only displays when TiQ is in debug mode and/or not in Prod, or is explicitly forced.</p>
    </div>
    









    <h5>Parameters:</h5>
    
<div class="table-container">
    <table class="params table">
        <thead>
        <tr>
            
            <th>Name</th>
            

            <th>Type</th>

            

            

            <th class="last">Description</th>
        </tr>
        </thead>

        <tbody>
        

            
<tr class="deep-level-0">
  
      <td class="name"><code>message</code></td>
  

  <td class="type">
  
      
<span class="param-type">string</span>


  
  </td>

  

  

  <td class="description last"><p>the message to be conditionally shown</p></td>
</tr>


        

            
<tr class="deep-level-0">
  
      <td class="name"><code>showOutsideDebugMode</code></td>
  

  <td class="type">
  
      
<span class="param-type">boolean</span>


  
  </td>

  

  

  <td class="description last"><p>if 'true', forces the message to shown outside of debug mode, except on Prod</p></td>
</tr>


        
        </tbody>
    </table>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="extension-3.js.html" class="button">View Source</a>
            <span>
                <a href="extension-3.js.html">extension-3.js</a>, <a href="extension-3.js.html#line826">line 826</a>
            </span>
        </p>
    
</dl>





















</div>
            
                <div class="member">


    
    <h4 class="name" id="~messageNotLoggedYet">
        <a class="href-link" href="#~messageNotLoggedYet">#</a>
        
            
                <span class='tag'>inner</span>
            
        
        <span class="code-name">
            
                messageNotLoggedYet<span class="signature">(messageId)</span><span class="type-signature"> &rarr; {boolean}</span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>Allows us to make sure we don't log certain messages more than once, especially useful while polling to avoid overwhelming the user.</p>
    </div>
    









    <h5>Parameters:</h5>
    
<div class="table-container">
    <table class="params table">
        <thead>
        <tr>
            
            <th>Name</th>
            

            <th>Type</th>

            

            

            <th class="last">Description</th>
        </tr>
        </thead>

        <tbody>
        

            
<tr class="deep-level-0">
  
      <td class="name"><code>messageId</code></td>
  

  <td class="type">
  
      
<span class="param-type">*</span>


  
  </td>

  

  

  <td class="description last"><p>a string or number to uniquely identify a message for the purposes of deduplication</p></td>
</tr>


        
        </tbody>
    </table>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="extension-3.js.html" class="button">View Source</a>
            <span>
                <a href="extension-3.js.html">extension-3.js</a>, <a href="extension-3.js.html#line293">line 293</a>
            </span>
        </p>
    
</dl>


















    <div class='columns method-parameter'>
        <div class="column is-2"><label>Returns:</label></div>
        <div class="column is-10">
            
                    

<div class="columns">
    
    <div class='param-desc column is-7'><p>'true' if the message hasn't been logged yet (and should be logged), otherwise 'false'</p></div>
    
    
    <div class='column is-5 has-text-left'>
        <label>Type: </label>
        
<span class="param-type">boolean</span>


    </div>
    
</div>

                
        </div>
    </div>




</div>
            
                <div class="member">


    
    <h4 class="name" id="~newUtagHandlerTrigger">
        <a class="href-link" href="#~newUtagHandlerTrigger">#</a>
        
            
                <span class='tag'>inner</span>
            
        
        <span class="code-name">
            
                newUtagHandlerTrigger<span class="signature">(a, b, c)</span><span class="type-signature"></span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>Tealium iQ's utag.handler.trigger normally causes tags to fire. For this integration, we override that function to support blocking tags without consent.</p>
    </div>
    









    <h5>Parameters:</h5>
    
<div class="table-container">
    <table class="params table">
        <thead>
        <tr>
            
            <th>Name</th>
            

            <th>Type</th>

            

            

            <th class="last">Description</th>
        </tr>
        </thead>

        <tbody>
        

            
<tr class="deep-level-0">
  
      <td class="name"><code>a</code></td>
  

  <td class="type">
  
      
<span class="param-type">*</span>


  
  </td>

  

  

  <td class="description last"><p>can be an object or a string</p></td>
</tr>


        

            
<tr class="deep-level-0">
  
      <td class="name"><code>b</code></td>
  

  <td class="type">
  
      
<span class="param-type">*</span>


  
  </td>

  

  

  <td class="description last"></td>
</tr>


        

            
<tr class="deep-level-0">
  
      <td class="name"><code>c</code></td>
  

  <td class="type">
  
      
<span class="param-type">*</span>


  
  </td>

  

  

  <td class="description last"></td>
</tr>


        
        </tbody>
    </table>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="extension-3.js.html" class="button">View Source</a>
            <span>
                <a href="extension-3.js.html">extension-3.js</a>, <a href="extension-3.js.html#line528">line 528</a>
            </span>
        </p>
    
</dl>





















</div>
            
                <div class="member">


    
    <h4 class="name" id="~newUtagLoaderInitdata">
        <a class="href-link" href="#~newUtagLoaderInitdata">#</a>
        
            
                <span class='tag'>inner</span>
            
        
        <span class="code-name">
            
                newUtagLoaderInitdata<span class="signature">()</span><span class="type-signature"></span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>An overridden version of the Tealium iQ function utag.loader.initdata.</p>
<p>Calls the original function, respects possible noview settings, rechecks the user consent, and calls queueEventWithoutFiringImplicitServices
if only an IMPLICIT consent is found (after recording the IMPLICIT services, to avoid double-firing).</p>
<p>That same event can then be re-processed for any new Services if an EXPLICIT consent decision later made.</p>
    </div>
    













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="extension-3.js.html" class="button">View Source</a>
            <span>
                <a href="extension-3.js.html">extension-3.js</a>, <a href="extension-3.js.html#line490">line 490</a>
            </span>
        </p>
    
</dl>





















</div>
            
                <div class="member">


    
    <h4 class="name" id="~overrideUtagFunctions">
        <a class="href-link" href="#~overrideUtagFunctions">#</a>
        
            
                <span class='tag'>inner</span>
            
        
        <span class="code-name">
            
                overrideUtagFunctions<span class="signature">()</span><span class="type-signature"> &rarr; {boolean}</span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>Override utag.loader.initdata and utag.handler.trigger to allow Tealium iQ Tags to be blocked if the user hasn't consented.</p>
    </div>
    













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="extension-3.js.html" class="button">View Source</a>
            <span>
                <a href="extension-3.js.html">extension-3.js</a>, <a href="extension-3.js.html#line462">line 462</a>
            </span>
        </p>
    
</dl>


















    <div class='columns method-parameter'>
        <div class="column is-2"><label>Returns:</label></div>
        <div class="column is-10">
            
                    

<div class="columns">
    
    <div class='param-desc column is-7'><p>'true' if the function was overridden successfully by this request, 'false' if not (because it was already overridden)</p></div>
    
    
    <div class='column is-5 has-text-left'>
        <label>Type: </label>
        
<span class="param-type">boolean</span>


    </div>
    
</div>

                
        </div>
    </div>




</div>
            
                <div class="member">


    
    <h4 class="name" id="~processEarlyQueue">
        <a class="href-link" href="#~processEarlyQueue">#</a>
        
            
                <span class='tag'>inner</span>
            
        
        <span class="code-name">
            
                processEarlyQueue<span class="signature">()</span><span class="type-signature"></span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>Process any queued tracking events from <a href="tealiumCmpIntegration.html#..earlyEventQueue">the early event queue</a> (can include pageviews) for any currently-consented Services.</p>
<p>Intended to be called first understandable implicit consent.</p>
    </div>
    













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="extension-3.js.html" class="button">View Source</a>
            <span>
                <a href="extension-3.js.html">extension-3.js</a>, <a href="extension-3.js.html#line655">line 655</a>
            </span>
        </p>
    
</dl>





















</div>
            
                <div class="member">


    
    <h4 class="name" id="~processImplicitQueue">
        <a class="href-link" href="#~processImplicitQueue">#</a>
        
            
                <span class='tag'>inner</span>
            
        
        <span class="code-name">
            
                processImplicitQueue<span class="signature">()</span><span class="type-signature"></span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>Process any queued tracking events from <a href="tealiumCmpIntegration.html#..implicitEventQueue">the global queue</a> (can include pageviews) for any newly-consented Services.</p>
<p>Intended to be called on new EXPLICIT consent decision - queued events have already had IMPLICTLY consented tags fired, so those need to be excluded.</p>
    </div>
    













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="extension-3.js.html" class="button">View Source</a>
            <span>
                <a href="extension-3.js.html">extension-3.js</a>, <a href="extension-3.js.html#line673">line 673</a>
            </span>
        </p>
    
</dl>





















</div>
            
                <div class="member">


    
    <h4 class="name" id="~queueEarlyEvent">
        <a class="href-link" href="#~queueEarlyEvent">#</a>
        
            
                <span class='tag'>inner</span>
            
        
        <span class="code-name">
            
                queueEarlyEvent<span class="signature">(a, b, c)</span><span class="type-signature"></span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>Queue a <a href="global.html#QueuedEvent">tracking event</a> in <a href="tealiumCmpIntegration.html#..earlyEventQueue">the early queue</a>, without firing any tags.</p>
<p>Intended to be called for events that triggered before we get an understandable response from Usercentrics.</p>
    </div>
    









    <h5>Parameters:</h5>
    
<div class="table-container">
    <table class="params table">
        <thead>
        <tr>
            
            <th>Name</th>
            

            <th>Type</th>

            

            

            <th class="last">Description</th>
        </tr>
        </thead>

        <tbody>
        

            
<tr class="deep-level-0">
  
      <td class="name"><code>a</code></td>
  

  <td class="type">
  
      
<span class="param-type">*</span>


  
  </td>

  

  

  <td class="description last"><p>the 'a' argument from utag.handler.trigger</p></td>
</tr>


        

            
<tr class="deep-level-0">
  
      <td class="name"><code>b</code></td>
  

  <td class="type">
  
      
<span class="param-type">*</span>


  
  </td>

  

  

  <td class="description last"><p>the 'b' argument from utag.handler.trigger</p></td>
</tr>


        

            
<tr class="deep-level-0">
  
      <td class="name"><code>c</code></td>
  

  <td class="type">
  
      
<span class="param-type">*</span>


  
  </td>

  

  

  <td class="description last"><p>the 'c' argument from utag.handler.trigger</p></td>
</tr>


        
        </tbody>
    </table>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="extension-3.js.html" class="button">View Source</a>
            <span>
                <a href="extension-3.js.html">extension-3.js</a>, <a href="extension-3.js.html#line696">line 696</a>
            </span>
        </p>
    
</dl>





















</div>
            
                <div class="member">


    
    <h4 class="name" id="~queueEventAndFireImplicitServices">
        <a class="href-link" href="#~queueEventAndFireImplicitServices">#</a>
        
            
                <span class='tag'>inner</span>
            
        
        <span class="code-name">
            
                queueEventAndFireImplicitServices<span class="signature">(a, b, c)</span><span class="type-signature"></span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>Queue a <a href="global.html#QueuedEvent">tracking event</a> in the global queue, without firing any implicitly consented Services.</p>
<p>Intended to be called for all events other than the initial page load.</p>
    </div>
    









    <h5>Parameters:</h5>
    
<div class="table-container">
    <table class="params table">
        <thead>
        <tr>
            
            <th>Name</th>
            

            <th>Type</th>

            

            

            <th class="last">Description</th>
        </tr>
        </thead>

        <tbody>
        

            
<tr class="deep-level-0">
  
      <td class="name"><code>a</code></td>
  

  <td class="type">
  
      
<span class="param-type">*</span>


  
  </td>

  

  

  <td class="description last"><p>the 'a' argument from utag.handler.trigger</p></td>
</tr>


        

            
<tr class="deep-level-0">
  
      <td class="name"><code>b</code></td>
  

  <td class="type">
  
      
<span class="param-type">*</span>


  
  </td>

  

  

  <td class="description last"><p>the 'b' argument from utag.handler.trigger</p></td>
</tr>


        

            
<tr class="deep-level-0">
  
      <td class="name"><code>c</code></td>
  

  <td class="type">
  
      
<span class="param-type">*</span>


  
  </td>

  

  

  <td class="description last"><p>the 'c' argument from utag.handler.trigger</p></td>
</tr>


        
        </tbody>
    </table>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="extension-3.js.html" class="button">View Source</a>
            <span>
                <a href="extension-3.js.html">extension-3.js</a>, <a href="extension-3.js.html#line766">line 766</a>
            </span>
        </p>
    
</dl>





















</div>
            
                <div class="member">


    
    <h4 class="name" id="~queueEventWithoutFiringImplicitServices">
        <a class="href-link" href="#~queueEventWithoutFiringImplicitServices">#</a>
        
            
                <span class='tag'>inner</span>
            
        
        <span class="code-name">
            
                queueEventWithoutFiringImplicitServices<span class="signature">(a, b, c)</span><span class="type-signature"></span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>Queue a <a href="global.html#QueuedEvent">tracking event</a> in <a href="tealiumCmpIntegration.html#..implicitEventQueue">the global queue</a>, without firing any implictly consented Services.</p>
<p>Intended to be called for the initial pageview on load, since the load process will have already fired the implicit services.</p>
    </div>
    









    <h5>Parameters:</h5>
    
<div class="table-container">
    <table class="params table">
        <thead>
        <tr>
            
            <th>Name</th>
            

            <th>Type</th>

            

            

            <th class="last">Description</th>
        </tr>
        </thead>

        <tbody>
        

            
<tr class="deep-level-0">
  
      <td class="name"><code>a</code></td>
  

  <td class="type">
  
      
<span class="param-type">*</span>


  
  </td>

  

  

  <td class="description last"><p>the 'a' argument from utag.handler.trigger</p></td>
</tr>


        

            
<tr class="deep-level-0">
  
      <td class="name"><code>b</code></td>
  

  <td class="type">
  
      
<span class="param-type">*</span>


  
  </td>

  

  

  <td class="description last"><p>the 'b' argument from utag.handler.trigger</p></td>
</tr>


        

            
<tr class="deep-level-0">
  
      <td class="name"><code>c</code></td>
  

  <td class="type">
  
      
<span class="param-type">*</span>


  
  </td>

  

  

  <td class="description last"><p>the 'c' argument from utag.handler.trigger</p></td>
</tr>


        
        </tbody>
    </table>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="extension-3.js.html" class="button">View Source</a>
            <span>
                <a href="extension-3.js.html">extension-3.js</a>, <a href="extension-3.js.html#line732">line 732</a>
            </span>
        </p>
    
</dl>





















</div>
            
                <div class="member">


    
    <h4 class="name" id="~reactToCmpResponse">
        <a class="href-link" href="#~reactToCmpResponse">#</a>
        
            
                <span class='tag'>inner</span>
            
        
        <span class="code-name">
            
                reactToCmpResponse<span class="signature">(cmpResponse)</span><span class="type-signature"></span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>The core CMP integration logic, which decides if Tealium iQ should be allowed to run, or if it needs to be stopped
until an understandable response that includes permission for Tealium iQ to run is found.</p>
    </div>
    









    <h5>Parameters:</h5>
    
<div class="table-container">
    <table class="params table">
        <thead>
        <tr>
            
            <th>Name</th>
            

            <th>Type</th>

            

            

            <th class="last">Description</th>
        </tr>
        </thead>

        <tbody>
        

            
<tr class="deep-level-0">
  
      <td class="name"><code>cmpResponse</code></td>
  

  <td class="type">
  
      
<span class="param-type">object</span>


  
  </td>

  

  

  <td class="description last"><p>The response from the checkConsents function</p></td>
</tr>


        
        </tbody>
    </table>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="extension-3.js.html" class="button">View Source</a>
            <span>
                <a href="extension-3.js.html">extension-3.js</a>, <a href="extension-3.js.html#line367">line 367</a>
            </span>
        </p>
    
</dl>





















</div>
            
                <div class="member">


    
    <h4 class="name" id="~recheckForCmpAndConsent">
        <a class="href-link" href="#~recheckForCmpAndConsent">#</a>
        
            
                <span class='tag'>inner</span>
            
        
        <span class="code-name">
            
                recheckForCmpAndConsent<span class="signature">()</span><span class="type-signature"></span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>Trigger the core logic with an up-to-date array of objects returned by calling <a href="https://docs.usercentrics.com/#/?id=getconsents">usercentrics.getConsents</a></p>
    </div>
    













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="extension-3.js.html" class="button">View Source</a>
            <span>
                <a href="extension-3.js.html">extension-3.js</a>, <a href="extension-3.js.html#line807">line 807</a>
            </span>
        </p>
    
</dl>





















</div>
            
                <div class="member">


    
    <h4 class="name" id="~stopTiq">
        <a class="href-link" href="#~stopTiq">#</a>
        
            
                <span class='tag'>inner</span>
            
        
        <span class="code-name">
            
                stopTiq<span class="signature">()</span><span class="type-signature"></span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>Stops Tealium iQ from loading (the TMS will not load tags or set a cookie if this function is called in Pre Loader), using the <a href="https://docs.tealium.com/platforms/javascript/settings/#noload">noload</a> setting</p>
    </div>
    













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="extension-3.js.html" class="button">View Source</a>
            <span>
                <a href="extension-3.js.html">extension-3.js</a>, <a href="extension-3.js.html#line852">line 852</a>
            </span>
        </p>
    
</dl>





















</div>
            
                <div class="member">


    
    <h4 class="name" id="~triggerOrQueue">
        <a class="href-link" href="#~triggerOrQueue">#</a>
        
            
                <span class='tag'>inner</span>
            
        
        <span class="code-name">
            
                triggerOrQueue<span class="signature">()</span><span class="type-signature"></span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>If Tealium iQ hasn't loaded, load it (calling utag.handler.trigger in the process), otherwise call utag.handler.trigger.</p>
    </div>
    













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="extension-3.js.html" class="button">View Source</a>
            <span>
                <a href="extension-3.js.html">extension-3.js</a>, <a href="extension-3.js.html#line888">line 888</a>
            </span>
        </p>
    
</dl>





















</div>
            
                <div class="member">


    
    <h4 class="name" id="~triggerTiqLoad">
        <a class="href-link" href="#~triggerTiqLoad">#</a>
        
            
                <span class='tag'>inner</span>
            
        
        <span class="code-name">
            
                triggerTiqLoad<span class="signature">()</span><span class="type-signature"> &rarr; {boolean}</span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>Allows TiQ to finish loading, intended to be called when a well-formed consent response is received, and that response allows Tealium iQ to run.</p>
<p>Works by setting <a href="https://docs.tealium.com/platforms/javascript/settings/#noload">noload</a> to 'false' and calling Tealium iQ's utag.loader.PINIT method.</p>
<p>If noload was 'true' and this function runs it must've been set to true by our own <a href="module-extension-3.html#~stopTiq">stopTiq</a> function, because otherwise Tealium iQ wouldn't have been allowed to load/poll in the first place.</p>
    </div>
    













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="extension-3.js.html" class="button">View Source</a>
            <span>
                <a href="extension-3.js.html">extension-3.js</a>, <a href="extension-3.js.html#line862">line 862</a>
            </span>
        </p>
    
</dl>


















    <div class='columns method-parameter'>
        <div class="column is-2"><label>Returns:</label></div>
        <div class="column is-10">
            
                    

<div class="columns">
    
    <div class='param-desc column is-7'><p>'true' if Tealium iQ was successfully triggered, 'false' if it wasn't triggered because it's already initiated</p></div>
    
    
    <div class='column is-5 has-text-left'>
        <label>Type: </label>
        
<span class="param-type">boolean</span>


    </div>
    
</div>

                
        </div>
    </div>




</div>
            
            </div>
        </div>
    

    

    
</article>

</section>




            </div>
            
            <footer class="footer">
                <div class="content has-text-centered">
                    <p>Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.6</a></p>
                    <p class="sidebar-created-by">
                        <a href="https://github.com/SoftwareBrothers/better-docs" target="_blank">BetterDocs theme</a> provided with <i class="fas fa-heart"></i> by 
                        <a href="http://softwarebrothers.co" target="_blank">SoftwareBrothers - JavaScript Development Agency</a>
                    </p>
                </div>
            </footer>
            
        </div>
        <div id="side-nav" class="side-nav">
        </div>
    </div>
<script src="scripts/app.min.js"></script>
<script>PR.prettyPrint();</script>
<script src="scripts/linenumber.js"> </script>

</body>
</html>